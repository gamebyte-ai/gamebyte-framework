<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UI Showcase - GameByte Framework</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #1a1a2e;
        }
        canvas {
            display: block;
        }
        #info {
            position: absolute;
            top: 20px;
            left: 20px;
            color: white;
            font-family: Arial, sans-serif;
            background: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            z-index: 100;
        }
    </style>
</head>
<body>
    <div id="info">
        <h3>UI Showcase</h3>
        <p>Click buttons to see interactions</p>
        <p>Progress bar animates automatically</p>
    </div>

    <!-- Load dependencies -->
    <script src="https://cdn.jsdelivr.net/npm/pixi.js@8/dist/pixi.min.js"></script>
    <script src="../../dist/gamebyte.umd.js"></script>

    <script>
        const { createGame, UIButton, UIProgressBar, UIPanel, ArcheroMenu, ARCHERO_COLORS } = GameByteFramework;

        // Create game
        const game = createGame();

        // Create canvas
        const canvas = document.createElement('canvas');
        canvas.width = 800;
        canvas.height = 600;
        document.body.appendChild(canvas);

        // Initialize game
        (async () => {
            await game.initialize(canvas, '2d');

            // Get services
            const renderer = game.make('renderer');
            const stage = renderer.getStage();

            // === BUTTONS SHOWCASE ===

            // Primary action button with gradient
            const playButton = new UIButton({
                text: 'PLAY',
                width: 180,
                height: 55,
                backgroundColor: 0x4CAF50,
                gradient: {
                    enabled: true,
                    colorTop: 0x66BB6A,
                    colorBottom: 0x388E3C
                },
                glowEffect: true,
                shadowEffect: true,
                borderRadius: 12
            });
            playButton.setPosition(100, 100);
            playButton.on('click', () => {
                console.log('Play button clicked!');
            });
            stage.addChild(playButton.getContainer());

            // Secondary button
            const settingsButton = new UIButton({
                text: 'Settings',
                width: 140,
                height: 45,
                backgroundColor: 0x2196F3,
                gradient: {
                    enabled: true,
                    colorTop: 0x42A5F5,
                    colorBottom: 0x1976D2
                },
                borderRadius: 8
            });
            settingsButton.setPosition(300, 100);
            settingsButton.on('click', () => {
                console.log('Settings clicked!');
            });
            stage.addChild(settingsButton.getContainer());

            // Warning/Cancel button
            const cancelButton = new UIButton({
                text: 'Cancel',
                width: 120,
                height: 40,
                backgroundColor: 0xF44336,
                gradient: {
                    enabled: true,
                    colorTop: 0xEF5350,
                    colorBottom: 0xD32F2F
                },
                borderRadius: 6
            });
            cancelButton.setPosition(460, 100);
            cancelButton.on('click', () => {
                console.log('Cancel clicked!');
            });
            stage.addChild(cancelButton.getContainer());

            // Disabled button
            const disabledButton = new UIButton({
                text: 'Locked',
                width: 120,
                height: 40,
                backgroundColor: 0x9E9E9E,
                disabled: true,
                borderRadius: 6
            });
            disabledButton.setPosition(600, 100);
            stage.addChild(disabledButton.getContainer());

            // === PROGRESS BARS ===

            // Create simple progress bars using PIXI Graphics
            const progressContainer = new PIXI.Container();
            progressContainer.x = 100;
            progressContainer.y = 200;
            stage.addChild(progressContainer);

            // Health bar
            const healthLabel = new PIXI.Text({ text: 'Health', style: { fill: 0xFFFFFF, fontSize: 14 } });
            healthLabel.y = 0;
            progressContainer.addChild(healthLabel);

            const healthBg = new PIXI.Graphics();
            healthBg.roundRect(0, 20, 200, 20, 4);
            healthBg.fill(0x333333);
            progressContainer.addChild(healthBg);

            const healthFill = new PIXI.Graphics();
            healthFill.roundRect(0, 20, 150, 20, 4);
            healthFill.fill(0x4CAF50);
            progressContainer.addChild(healthFill);

            // Energy bar
            const energyLabel = new PIXI.Text({ text: 'Energy', style: { fill: 0xFFFFFF, fontSize: 14 } });
            energyLabel.y = 50;
            progressContainer.addChild(energyLabel);

            const energyBg = new PIXI.Graphics();
            energyBg.roundRect(0, 70, 200, 20, 4);
            energyBg.fill(0x333333);
            progressContainer.addChild(energyBg);

            const energyFill = new PIXI.Graphics();
            energyFill.roundRect(0, 70, 180, 20, 4);
            energyFill.fill(0x2196F3);
            progressContainer.addChild(energyFill);

            // Experience bar
            const xpLabel = new PIXI.Text({ text: 'Experience', style: { fill: 0xFFFFFF, fontSize: 14 } });
            xpLabel.y = 100;
            progressContainer.addChild(xpLabel);

            const xpBg = new PIXI.Graphics();
            xpBg.roundRect(0, 120, 200, 20, 4);
            xpBg.fill(0x333333);
            progressContainer.addChild(xpBg);

            const xpFill = new PIXI.Graphics();
            xpFill.roundRect(0, 120, 100, 20, 4);
            xpFill.fill(0x9C27B0);
            progressContainer.addChild(xpFill);

            // === PANELS ===

            // Info panel
            const panelContainer = new PIXI.Container();
            panelContainer.x = 400;
            panelContainer.y = 200;
            stage.addChild(panelContainer);

            const panelBg = new PIXI.Graphics();
            panelBg.roundRect(0, 0, 250, 150, 12);
            panelBg.fill({ color: 0x1a1a2e, alpha: 0.9 });
            panelBg.stroke({ color: 0x4CAF50, width: 2 });
            panelContainer.addChild(panelBg);

            const panelTitle = new PIXI.Text({
                text: 'Player Stats',
                style: { fill: 0x4CAF50, fontSize: 18, fontWeight: 'bold' }
            });
            panelTitle.x = 15;
            panelTitle.y = 15;
            panelContainer.addChild(panelTitle);

            const statLines = ['Level: 42', 'Gold: 1,234', 'Gems: 56', 'Score: 98,765'];
            statLines.forEach((text, i) => {
                const line = new PIXI.Text({
                    text,
                    style: { fill: 0xFFFFFF, fontSize: 14 }
                });
                line.x = 15;
                line.y = 50 + i * 22;
                panelContainer.addChild(line);
            });

            // === ARCHERO MENU ===

            const menu = new ArcheroMenu({
                sections: [
                    { id: 'home', label: 'Home', icon: 'home' },
                    { id: 'heroes', label: 'Heroes', icon: 'heroes' },
                    { id: 'battle', label: 'Battle', icon: 'battle' },
                    { id: 'shop', label: 'Shop', icon: 'shop' },
                    { id: 'settings', label: 'Settings', icon: 'settings' }
                ],
                activeSection: 2, // Battle selected
                canvasWidth: 800,
                canvasHeight: 600,
                callbacks: {
                    onSectionChange: (index, section) => {
                        console.log(`Menu changed to: ${section.label}`);
                    }
                }
            });
            stage.addChild(menu.container);

            // === ANIMATED PROGRESS ===

            let progress = 0;
            let direction = 1;

            game.on('update', (deltaTime) => {
                // Animate XP bar
                progress += direction * (deltaTime / 1000) * 0.3;
                if (progress >= 1) {
                    progress = 1;
                    direction = -1;
                } else if (progress <= 0) {
                    progress = 0;
                    direction = 1;
                }

                // Update XP fill width
                xpFill.clear();
                xpFill.roundRect(0, 120, 200 * progress, 20, 4);
                xpFill.fill(0x9C27B0);
            });

            // Start game
            game.start();
        })();
    </script>
</body>
</html>
